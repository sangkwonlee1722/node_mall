# 환경변수
- .env 파일에 어떤 환경변수가 추가되어야 하는지 작성합니다.
- key=value 형태에서 key만 나열합니다. value는 비밀!

- NODE_ENV = 
- PORT = "3306"
- JWT = "JWT"
- ENCRYPT = "ENCRYPT"
- RDS_NAME = "root"
- RDS_PASSWORD = "kjess8335"
- RDS_DB = "database_development"
- RDS_HOST = "express-database.ccmxim7yohjy"

# API 명세서 URL

- https://docs.google.com/spreadsheets/d/1qEk1A-RVYdLrjvuHP3hN_r1GywVZled-za9ZV_iqpZU/edit?usp=sharing

# ERD URL

- https://www.erdcloud.com/d/7KbRYfY65fLtWPEJe

ERD는 아직 이해를 못해서 연결선같은 건 그리지 못했습니다...

# 더 고민해 보기

1. **암호화 방식**
- 비밀번호를 DB에 저장할 때 Hash를 이용했는데, Hash는 `단방향 암호화`와 `양방향 암호화` 중 어떤 암호화 방식에 해당할까요?

 Hash 방식은 `단방향 암호화`이다.


- 비밀번호를 그냥 저장하지 않고 Hash 한 값을 저장 했을 때의 좋은 점은 무엇인가요?

Hash는 입력 데이터를 고정된 크기의 고정된 출력 값으로 변환합니다. 이 변환은 일방향으로 이루어지며, 해시 값으로부터 원본 데이터를 복원하는 것이 매우 어렵거나 거의 불가능합니다.그렇기에 Hash를 사용하면 보안을 강화할 수 있습니다.


2. **인증 방식**
- JWT(Json Web Token)을 이용해 인증 기능을 했는데, 만약 Access Token이 노출되었을 경우 발생할 수 있는 문제점은 무엇일까요?

1. 토큰이 노출되면 다른 사용자가 그 토큰으로 서버에 접근할 수 있습니다.
2. 토큰을 무단으로 변조하여 권한이 없는 작업을 시도할 수 있습니다.
3. 토큰 내에는 민감하거나 보안에 직결되는 정보가 포함되어 있을 수 있습니다.
4. 토큰의 유효기간동안 계속하여 무단으로 사용될 수 있습니다.

- 해당 문제점을 보완하기 위한 방법으로는 어떤 것이 있을까요?

1. 토큰의 만료 시간을 설정하거나 키를 랜덤으로 하는 등의 방법을 강구해 무단
사용을 어렵게 합니다.
2. 토큰 서명을 사용하여, 서버에서 토큰이 변조되었는지 검증할 수 있게 합니다.
3. 토큰에는 최소한의 정보만을 담도록 설계하고, 서버에서 민감한 정보를 담당하도록
합니다.

3. **인증과 인가**
- 인증과 인가가 무엇인지 각각 설명해 주세요.

 인증은 사용자가 시스템이나 서비스에 대해 누구인지 확인하는 과정이며, 인가는 인증된 사용자에 대해 어떤 리소스에 접근할 권한이 있는지 결정하는 과정입니다.

- 과제에서 구현한 Middleware는 인증에 해당하나요? 인가에 해당하나요? 그 이유도 알려주세요.

 인증과 인가 둘의 역할을 모두 하는 것 같습니다. 로그인 기능을 구현해 누구인 지 확인하고, 로그인을 한 후에 상품에 대한 수정, 삭제 등의 권한을 주기 때문에 둘의 역할을 다 한다고 생각합니다.

4. **Http Status Code**
- 과제를 진행하면서 `사용한 Http Status Code`를 모두 나열하고, 각각이 `의미하는 것`과 `어떤 상황에 사용`했는지 작성해 주세요.

200 : 성공
400 : 예기치 못한 오류
401 : 실패

5. **리팩토링**
- MongoDB, Mongoose를 이용해 구현되었던 코드를 MySQL, Sequelize로 변경하면서, 많은 코드 변경이 있었나요? 주로 어떤 코드에서 변경이 있었나요?
- 만약 이렇게 DB를 변경하는 경우가 또 발생했을 때, 코드 변경을 보다 쉽게 하려면 어떻게 코드를 작성하면 좋을 지 생각나는 방식이 있나요? 있다면 작성해 주세요.

생성, 검색, 삭제, 수정을 하는 코드들을 변경하게 되었습니다.
틀을 만들어 호환이 될 수 있게 하면 부품만 갈아끼우면 되니 편하지 않을까하는 생각이 들었습니다.

6. **서버 장애 복구**
- 현재는 PM2를 이용해 Express 서버의 구동이 종료 되었을 때에 Express 서버를 재실행 시켜 장애를 복구하고 있습니다. 만약 단순히 Express 서버가 종료 된 것이 아니라, AWS EC2 인스턴스(VM, 서버 컴퓨터)가 재시작 된다면, Express 서버는 재실행되지 않을 겁니다. AWS EC2 인스턴스가 재시작 된 후에도 자동으로 Express 서버를 실행할 수 있게 하려면 어떤 조치를 취해야 할까요?
(Hint: PM2에서 제공하는 기능 중 하나입니다.)

PM2에서 제공하는 기능 중 하나인 Startup Hooks를 사용합니다. Startup Hooks은 서버가 종료된 후에도 시스템 재시작 시에 자동으로 프로세스를 다시 실행하는 옵션으로, 이를 활용하여 AWS EC2 인스턴스가 재시작될 때 PM2로 실행 중인 Express 서버를 자동으로 다시 시작할 수 있습니다.

7. **개발 환경**
- nodemon은 어떤 역할을 하는 패키지이며, 사용했을 때 어떤 점이 달라졌나요?
- npm을 이용해서 패키지를 설치하는 방법은 크게 일반, 글로벌(`--global, -g`), 개발용(`--save-dev, -D`)으로 3가지가 있습니다. 각각의 차이점을 설명하고, nodemon은 어떤 옵션으로 설치해야 될까요?

 일반옵션은 그냥 설치하는 것이고, 

 글로벌(`--global, -g`)의 경우는 해당 패키지를 전역으로 설치한다는 것을 의미합니다. 시스템상에 있는 모든 node_modules 디렉터리에 해당하는 패키지를 설치한다는 것을 뜻하며 즉, 이미 세팅되어져 있는 다른 프로젝트에서도 해당 패키지를 사용할 수 있게됩니다.

 개발용(`--save-dev, -D`) 중 -D 옵션을 추가한 경우는 devDependencies에 패키지들을 추가합니다. 이 경우, --production 옵션을 추가하여 배포할 프로젝트를 빌드할 때, devDependencies에 있는 패키지들은 포함되지 않습니다.

 개발용(`--save-dev, -D`) 중--save 옵션을 추가한 경우는 devDependencies가 아니라 dependencies에 패키지가 추가됩니다. npm5부터는 --save 옵션을 추가하지 않아도 npm install시, dependencies에 패키지를 추가합니다. 예를 들어, npm install express --save와  npm install express 는 npm5버전 이상에서는 같은 명령으로 인식됩니다.

노드몬은 -D로 설치해야 합니다.